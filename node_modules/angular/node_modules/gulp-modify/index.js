// Generated by CoffeeScript 1.7.1
(function() {
  'use strict';
  var PLUGIN_NAME, through;

  PLUGIN_NAME = 'gulp-modify';

  through = require('through2');

  module.exports = function(options) {
    if (options == null) {
      options = {};
    }
    return through.obj(function(file, enc, next) {
      var content, fileModifier;
      if (file.isBuffer()) {
        if (fileModifier = options.fileModifier) {
          content = fileModifier(file, file.contents.toString('utf8'));
          file.contents = new Buffer(content);
        }
      }
      return next(null, file);
    });
  };

}).call(this);
